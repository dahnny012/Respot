html
    head
        title Add a New Deck
        link(href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css", rel="stylesheet", integrity="sha256-xWeRKjzyg6bep9D1AsHzUPEWHbWMzlRc84Z0aG+tyms= sha512-mGIRU0bcPaVjr7BceESkC37zD6sEccxE+RJyQABbbKNe83Y68+PyPM5nrE1zvbQZkSHDCJEtnAcodbhlq2/EkQ==", crossorigin="anonymous")
        link(href="/stylesheets/form.css", rel="stylesheet")
        script(src="https://code.jquery.com/jquery-latest.min.js")
        script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js", integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==", crossorigin="anonymous")
        
    body
        if error 
            h1 An Error has occured. 
            h2 Please try again. 
            h3 #{error}
        else 
            div.modal-dialog
                div.formmodal-container
                    h1 Add Card
                    form(name="newCard", id="newCard")
                        textarea(name='front', placeholder="Front of Card")
                        textarea(name='back', placeholder="Back of Card")
                        input(type='submit', value="Create", name="createCard", id="createCardButton", class="form formmodal-submit")
                
script.
    function formData(){
        var data = {}
        $('form').serializeArray().forEach(function(e){
            data[e.name] = e.value;
        })
        
        return data;
    }
    
    $('form').submit(function (evt) {
        evt.preventDefault();
        var data = formData();
        $.post("",data,function(msg){
            console.log(msg);
        });
        document.getElementById("createCardButton").value = "Add Another Card";
        document.getElementById("newCard").reset();
    });